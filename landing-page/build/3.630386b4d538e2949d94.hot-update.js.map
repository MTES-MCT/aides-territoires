{"version":3,"sources":["webpack:///./components/SendInBlueContactForm.js?4fdc"],"names":["getConfig","publicRuntimeConfig","EMAIL_SENDING_STATUS_NOT_STARTED","EMAIL_SENDING_STATUS_PENDING","EMAIL_SENDING_STATUS_SENT","EMAIL_SENDING_STATUS_ERROR","ContactForm","props","handleSubmit","event","preventDefault","setState","emailSendingStatus","sendEmail","then","catch","onEmailChange","email","target","value","onMessageChange","message","state","query","variables","from","text","request","GRAPHQL_URL","React","Component"],"mappings":"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","file":"3.630386b4d538e2949d94.hot-update.js","sourcesContent":["import React from \"react\";\nimport { request } from \"graphql-request\";\nimport getConfig from \"next/config\";\nconst { publicRuntimeConfig } = getConfig();\n\nconst EMAIL_SENDING_STATUS_NOT_STARTED = \"not_started\";\nconst EMAIL_SENDING_STATUS_PENDING = \"pending\";\nconst EMAIL_SENDING_STATUS_SENT = \"sent\";\nconst EMAIL_SENDING_STATUS_ERROR = \"error\";\n\nexport default class ContactForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      message: \"\",\n      emailSendingStatus: EMAIL_SENDING_STATUS_NOT_STARTED\n    };\n  }\n  handleSubmit = event => {\n    event.preventDefault();\n    this.setState({\n      emailSendingStatus: EMAIL_SENDING_STATUS_PENDING\n    });\n    this.sendEmail()\n      .then(r => {\n        this.setState({\n          emailSendingStatus: EMAIL_SENDING_STATUS_SENT\n        });\n      })\n      .catch(e => {\n        this.setState({\n          emailSendingStatus: EMAIL_SENDING_STATUS_ERROR\n        });\n      });\n  };\n  onEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n  onMessageChange = event => {\n    this.setState({ message: event.target.value });\n  };\n  sendEmail() {\n    const query = `\n    mutation sendContactFormEmail($from:String!,$text:String!) {\n      sendContactFormEmail(from: $from, text:$text) {\n        from\n        text\n      }\n    }`;\n    const variables = {\n      from: this.state.email,\n      text: this.state.message\n    };\n    return request(publicRuntimeConfig.GRAPHQL_URL, query, variables);\n  }\n  render() {\n    return (\n      <div>\n        <p class=\"text\">\n          Vous avez encore des questions ? des suggestions ? N'hésitez pas, nous\n          sommes à votre disposition et serons ravis d'échanger avec vous :\n          laissez-nous un message à :{\" \"}\n        </p>\n        {this.state.emailSendingStatus === EMAIL_SENDING_STATUS_ERROR && (\n          <div>\n            Désolé nous avons rencontré une erreur lors de l'envoi de l'email.\n            Vous pouvez nous contacter à l'addresse suivante :\n            <strong>contact@aides-territoires.beta.gouv.fr</strong> ou{\" \"}\n            <strong>elise.marion@beta.gouv.fr</strong>\n          </div>\n        )}\n        {this.state.emailSendingStatus === EMAIL_SENDING_STATUS_SENT && (\n          <div className=\"section message is-success\">\n            Merci! Votre message a bien été envoyé.\n          </div>\n        )}\n        {/* afficher le formulaire sauf si il a bien été envoyé ou qu'il y a eu une erreur pendant l'envoi*/}\n        {this.state.emailSendingStatus !== EMAIL_SENDING_STATUS_ERROR &&\n          this.state.emailSendingStatus !== EMAIL_SENDING_STATUS_SENT && (\n            <form id=\"contact-form\" onSubmit={this.handleSubmit}>\n              <div className=\"field\">\n                <label className=\"label\">Votre email*</label>\n                <div className=\"control\">\n                  <input\n                    id=\"email\"\n                    onChange={this.onEmailChange}\n                    className=\"input is-large\"\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"field\">\n                <label className=\"label\">Votre message</label>\n                <div className=\"control\">\n                  <textarea\n                    onChange={this.onMessageChange}\n                    id=\"message\"\n                    className=\"textarea\"\n                    placeholder=\"Votre message\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"field is-grouped is-grouped-right\">\n                <div className=\"control\">\n                  <input\n                    type=\"submit\"\n                    value=\"envoyer\"\n                    className=\"button is-link is-large is-primary\"\n                  />\n                </div>\n              </div>\n            </form>\n          )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/SendInBlueContactForm.js"],"sourceRoot":""}