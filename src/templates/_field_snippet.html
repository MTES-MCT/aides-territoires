{% load widget_tweaks %}
<div id="form-group-{{ field.auto_id }}" class="fr-input-group{% if field.errors %} fr-input-group--error{% endif %}"{% if field.field.required %} required{% endif %} {% if required == 'true' %}required{% endif %}>
    <label for="{{ field.id_for_label }}" class="fr-label">
        <span class="at-field-label{% if field.field.required %} at-required--label{% endif %}">{{ field.label }}</span>

        {% if field.help_text %}
            <span class="fr-hint-text">{{ field.help_text|safe }}</span>
        {% endif %}
    </label>

    {% if nest_field_class %}
    <div class="{{ nest_field_class }}">
    {% endif %}


    {% if field.errors %}
      {% with aria_describedby="aria-describedby:"|add:field.auto_id|add:"-desc-error" %}
        {{ field|attr:"aria-invalid:true"|attr:aria_describedby }}
      {% endwith %}
    {% else %}
      {{ field }}
    {% endif %}


    {% if nest_field_class %}
    </div>
    {% endif %}

    {% if field.errors %}
    <p id="{{ field.auto_id }}-desc-error" class="fr-error-text">
        {{ field.errors.0 }}
    </p>
    {% endif %}
</div>