{% extends '_base.html' %}
{% load i18n %}

{% block breadcrumbs %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li><a href="{% url 'home' %}">{{ _('Home') }}</a></li>
        <li class="active" aria-current="page">{{ _('All aids') }}</li>
    </ol>
</nav>
{% endblock %}

{% block content %}
<section id="search" class="aid-list">
    <div id="search-engine" class="aid-sidebar">
        <form action="" method="GET">
            {% include '_form_snippet.html' with form=form nest_field_class="field" %}
            <button type="submit">{{ _('Filter results') }}</button>
            <a class="reset" href="{% url 'search_view' %}">{{ _('Reset all filters') }}</a>
            <p>{% blocktrans %}
            As this is a beta service, some aids are yet to be referenced here.
            Feel free to contact us if you see that something is missing.
            {% endblocktrans %}</p>
        </form>
    </div>

    <div id="search-results" class="aid-results">
        {% include 'aids/_results.html' with search_actions="yes" %}
    </div>
</section>
{% endblock %}

{% block footer %}
{{ block.super }}
{% include 'aids/_bookmark_results_modal.html' %}
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/select2.scss" type="text/x-scss" charset="utf-8">
{% endblock %}

{% block extra_js %}
<script src="/static/select2/dist/js/select2.js"></script>
<script>
    // Translations strings
    var catalog = {
        perimeter_placeholder: '{{ _("City, department, region, EPCIâ€¦") }}',
        perimeter_url: '{% url "perimeters-list" %}',
        search_url: '{% url "results_view" %}',
        copy_to_clipboard_success: '{{ _("The current url was successfully copied to clipboard.") }}',
        copy_to_clipboard_error: '{{ _("Sorry, we could not copy automatically.") }}',
        send_by_email_message: '{{ _("Please wait") }} <span class="fas fa-spinner fa-spin"></span>',
        send_by_email_done: '{{ _("Done") }}',
        send_by_email_success: '{{ _("Done! Check your mailbox for search results.") }}',
        send_by_email_error: '{{ _("It seems something went wrong. Please try again in a few seconds.") }}',
    };
</script>
<script src="/static/js/aids/perimeter_autocomplete.js"></script>
<script src="/static/js/aids/dynamic_search_engine.js"></script>
<script src="/static/js/aids/bookmark_results.js"></script>
{% endblock %}